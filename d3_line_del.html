<!DOCTYPE html>
<html>
<head>
  <title>D3.js Drawing Line with Arrow and Deletion on Hover</title>
  <script src="./lib/d3.v7.min.js"></script>
  <script    src="lineDel.js"></script>
  <style>
    .clearInput {
      cursor: pointer;
      display: none; /* Initially hide the delete icon */
    }
  </style>
</head>
<body>
<svg width="1" height="1">
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="0" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="blue"></path>
    </marker>
  </defs>
</svg>
<!--<svg role="graphics-symbol" id="delicon" viewBox="0 0 16 16" class="clearInput" style="width: 14px; height: 14px; display: none; fill: rgb(212, 76, 71); flex-shrink: 0; background: white; border-radius: 5px;">-->
<!--  <path d="M7.993 15.528a7.273 7.273 0 01-2.923-.593A7.633 7.633 0 012.653 13.3a7.797 7.797 0 01-1.633-2.417 7.273 7.273 0 01-.593-2.922c0-1.035.198-2.01.593-2.922A7.758 7.758 0 015.063.99 7.273 7.273 0 017.985.395a7.29 7.29 0 012.93.593 7.733 7.733 0 012.417 1.64 7.647 7.647 0 011.64 2.41c.396.914.594 1.888.594 2.923 0 1.035-.198 2.01-.593 2.922a7.735 7.735 0 01-4.058 4.05 7.272 7.272 0 01-2.922.594zM5.59 11.06c.2 0 .371-.066.513-.198L8 8.951l1.904 1.911a.675.675 0 00.498.198.667.667 0 00.491-.198.67.67 0 00.205-.49.64.64 0 00-.205-.491L8.981 7.969l1.92-1.911a.686.686 0 00.204-.491.646.646 0 00-.205-.484.646.646 0 00-.483-.205.67.67 0 00-.49.205L8 6.995 6.081 5.083a.696.696 0 00-.49-.19.682.682 0 00-.491.198.651.651 0 00-.198.49c0 .181.068.342.205.484l1.912 1.904-1.912 1.92a.646.646 0 00-.205.483c0 .19.066.354.198.49.136.132.3.198.49.198z"></path></svg>-->
<svg width="800" height="800" id="svg">
</svg>

<script>
  // 选择SVG容器
  const svg = d3.select('#svg');

  // 假设lineX2和lineY2是线条终点的坐标
  const lineX2 = 520;
  const lineY2 = 350;


  // 添加线条
  const line = svg.append('line')
    .attr('x1', 20)
    .attr('y1', 20)
    .attr('x2', lineX2)
    .attr('y2', lineY2)
    .attr('stroke', 'blue')
    .attr('stroke-width', 2)
    .attr('marker-end', 'url(#arrow)')
    .classed('interactive-line', true);

  const line2 = svg.append('line')
    .attr('x1', 200)
    .attr('y1', 200)
    .attr('x2', 300)
    .attr('y2', 400)
    .attr('stroke', 'blue')
    .attr('stroke-width', 2)
    .attr('marker-end', 'url(#arrow)')
    .classed('interactive-line', true);

  // 添加删除图标
  delLine(line, svg, lineX2, lineY2);


  delLine(line2, svg, 300, 400);

</script>


</body>
</html>

